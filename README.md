# Pagination.js - Librer√≠a de Paginaci√≥n TypeScript

Una librer√≠a ligera y moderna de paginaci√≥n escrita en TypeScript, con soporte completo para elementos DOM, datos AJAX y funcionalidades avanzadas.

## üöÄ Caracter√≠sticas

- ‚úÖ **TypeScript nativo** con tipos estrictos
- ‚úÖ **Soporte para elementos DOM** - Pagina elementos HTML directamente
- ‚úÖ **Datos AJAX** - Carga datos desde APIs
- ‚úÖ **Paginaci√≥n inteligente** - Elipsis din√°micos y navegaci√≥n contextual
- ‚úÖ **Altamente configurable** - M√°s de 30 opciones de personalizaci√≥n
- ‚úÖ **Eventos y callbacks** - Control total sobre el comportamiento
- ‚úÖ **Build optimizado** - M√∫ltiples formatos de salida (ES, UMD, minificado)

## üì¶ Instalaci√≥n

```bash
npm install pagination-js
```

## üéØ Uso B√°sico

```javascript
import {Pagination} from 'pagination-js';

const pagination = new Pagination('#container', {
  dataSource: '.data-item',
  pageSize: 10,
  callback: (data, model) => {
    console.log('P√°gina actual:', model.pageNumber);
  },
});

await pagination.init();
```

## ‚öôÔ∏è Opciones de Configuraci√≥n

### üìä Configuraci√≥n B√°sica

| Opci√≥n        | Tipo     | Default | Descripci√≥n                                            |
| ------------- | -------- | ------- | ------------------------------------------------------ |
| `totalNumber` | `number` | `0`     | N√∫mero total de elementos a paginar                    |
| `pageNumber`  | `number` | `1`     | P√°gina inicial (1-indexed)                             |
| `pageSize`    | `number` | `10`    | N√∫mero de elementos por p√°gina                         |
| `pageRange`   | `number` | `2`     | N√∫mero de p√°ginas a mostrar antes/despu√©s de la actual |

### üé® Configuraci√≥n Visual

| Opci√≥n            | Tipo      | Default | Descripci√≥n                               |
| ----------------- | --------- | ------- | ----------------------------------------- |
| `showPrevious`    | `boolean` | `true`  | Mostrar bot√≥n "anterior"                  |
| `showNext`        | `boolean` | `true`  | Mostrar bot√≥n "siguiente"                 |
| `showPageNumbers` | `boolean` | `true`  | Mostrar n√∫meros de p√°gina                 |
| `showNavigator`   | `boolean` | `false` | Mostrar informaci√≥n de navegaci√≥n         |
| `showGoInput`     | `boolean` | `false` | Mostrar input para ir a p√°gina espec√≠fica |
| `showGoButton`    | `boolean` | `false` | Mostrar bot√≥n "ir" junto al input         |
| `showSizeChanger` | `boolean` | `false` | Mostrar selector de tama√±o de p√°gina      |

### üé≠ Configuraci√≥n de Elipsis

| Opci√≥n                     | Tipo      | Default            | Descripci√≥n                                            |
| -------------------------- | --------- | ------------------ | ------------------------------------------------------ |
| `ellipsisClickable`        | `boolean` | `false`            | Hacer el elipsis clickeable con input para ir a p√°gina |
| `ellipsisInputPlaceholder` | `string`  | `'Ir a p√°gina...'` | Placeholder del input del elipsis                      |
| `ellipsisInputButtonText`  | `string`  | `'Ir'`             | Texto del bot√≥n del elipsis                            |
| `ellipsisInputClass`       | `string`  | `''`               | Clase CSS adicional para el contenedor del elipsis     |
| `hideFirstOnEllipsisShow`  | `boolean` | `false`            | Ocultar primera p√°gina cuando se muestra elipsis       |
| `hideLastOnEllipsisShow`   | `boolean` | `false`            | Ocultar √∫ltima p√°gina cuando se muestra elipsis        |
| `hideOnlyOnePage`          | `boolean` | `false`            | Ocultar paginador si solo hay una p√°gina               |

### üè∑Ô∏è Textos y Etiquetas

| Opci√≥n         | Tipo     | Default      | Descripci√≥n                   |
| -------------- | -------- | ------------ | ----------------------------- |
| `prevText`     | `string` | `'&lsaquo;'` | Texto del bot√≥n anterior (‚Äπ)  |
| `nextText`     | `string` | `'&rsaquo;'` | Texto del bot√≥n siguiente (‚Ä∫) |
| `ellipsisText` | `string` | `'...'`      | Texto para los elipsis        |
| `goButtonText` | `string` | `'Go'`       | Texto del bot√≥n "ir"          |

### üé® Clases CSS

| Opci√≥n             | Tipo     | Default          | Descripci√≥n                            |
| ------------------ | -------- | ---------------- | -------------------------------------- |
| `classPrefix`      | `string` | `'paginationjs'` | Prefijo para todas las clases CSS      |
| `activeClassName`  | `string` | `'active'`       | Clase para la p√°gina activa            |
| `disableClassName` | `string` | `'disabled'`     | Clase para elementos deshabilitados    |
| `className`        | `string` | -                | Clase adicional para el contenedor     |
| `ulClassName`      | `string` | -                | Clase adicional para la lista `<ul>`   |
| `prevClassName`    | `string` | -                | Clase adicional para bot√≥n anterior    |
| `nextClassName`    | `string` | -                | Clase adicional para bot√≥n siguiente   |
| `pageClassName`    | `string` | -                | Clase adicional para n√∫meros de p√°gina |

### üìù Formateo de Textos

| Opci√≥n              | Tipo               | Default                            | Descripci√≥n                    |
| ------------------- | ------------------ | ---------------------------------- | ------------------------------ |
| `formatNavigator`   | `string\|function` | `'Total <%= totalNumber %> items'` | Formato del navegador          |
| `formatGoInput`     | `string\|function` | `'<%= input %>'`                   | Formato del input "ir"         |
| `formatGoButton`    | `string\|function` | `'<%= button %>'`                  | Formato del bot√≥n "ir"         |
| `formatSizeChanger` | `string\|function` | -                                  | Formato del selector de tama√±o |

### üìç Posicionamiento

| Opci√≥n     | Tipo               | Default    | Descripci√≥n                      |
| ---------- | ------------------ | ---------- | -------------------------------- |
| `position` | `'top'\|'bottom'`  | `'bottom'` | Posici√≥n del paginador           |
| `header`   | `string\|function` | -          | HTML/function para el encabezado |
| `footer`   | `string\|function` | -          | HTML/function para el pie        |

### üéØ Inicializaci√≥n

| Opci√≥n                  | Tipo      | Default | Descripci√≥n                        |
| ----------------------- | --------- | ------- | ---------------------------------- |
| `triggerPagingOnInit`   | `boolean` | `true`  | Ejecutar paginaci√≥n al inicializar |
| `resetPageNumberOnInit` | `boolean` | `true`  | Resetear a p√°gina 1 al inicializar |

### üìä Datos y Fuentes

| Opci√≥n               | Tipo                      | Default | Descripci√≥n                                     |
| -------------------- | ------------------------- | ------- | ----------------------------------------------- |
| `dataSource`         | `string\|array\|function` | -       | Fuente de datos (selector, array, funci√≥n)      |
| `locator`            | `string\|function`        | -       | Localizador para extraer datos                  |
| `totalNumberLocator` | `function`                | -       | Funci√≥n para obtener total desde respuesta AJAX |
| `ajax`               | `object\|function`        | -       | Configuraci√≥n AJAX                              |
| `alias`              | `object`                  | -       | Alias para par√°metros de p√°gina                 |

### üéõÔ∏è Opciones de Tama√±o

| Opci√≥n               | Tipo       | Default             | Descripci√≥n                     |
| -------------------- | ---------- | ------------------- | ------------------------------- |
| `sizeChangerOptions` | `number[]` | `[10, 20, 50, 100]` | Opciones del selector de tama√±o |

### üîó Enlaces

| Opci√≥n     | Tipo     | Default | Descripci√≥n                  |
| ---------- | -------- | ------- | ---------------------------- |
| `pageLink` | `string` | `''`    | Enlace base para las p√°ginas |

### üé™ Agrupaci√≥n

| Opci√≥n       | Tipo      | Default              | Descripci√≥n                    |
| ------------ | --------- | -------------------- | ------------------------------ |
| `groupItems` | `boolean` | `false`              | Agrupar elementos en p√°ginas   |
| `groupClass` | `string`  | `'pagination-group'` | Clase para grupos de elementos |

### üéõÔ∏è Estado

| Opci√≥n     | Tipo      | Default | Descripci√≥n               |
| ---------- | --------- | ------- | ------------------------- |
| `disabled` | `boolean` | `false` | Deshabilitar el paginador |

## üîß Callbacks y Eventos

### üìû Callbacks Principales

| Callback   | Par√°metros      | Descripci√≥n                        |
| ---------- | --------------- | ---------------------------------- |
| `callback` | `(data, model)` | Se ejecuta cuando cambia la p√°gina |
| `onError`  | `(error, type)` | Se ejecuta cuando hay un error     |

### üé£ Hooks de Inicializaci√≥n

| Hook         | Par√°metros | Descripci√≥n            |
| ------------ | ---------- | ---------------------- |
| `beforeInit` | `()`       | Antes de inicializar   |
| `afterInit`  | `(el)`     | Despu√©s de inicializar |

### üé® Hooks de Renderizado

| Hook           | Par√°metros   | Descripci√≥n           |
| -------------- | ------------ | --------------------- |
| `beforeRender` | `(isForced)` | Antes de renderizar   |
| `afterRender`  | `(isForced)` | Despu√©s de renderizar |

### üéØ Hooks de Navegaci√≥n

| Hook                    | Par√°metros            | Descripci√≥n                    |
| ----------------------- | --------------------- | ------------------------------ |
| `beforeGoButtonOnClick` | `(event, pageNumber)` | Antes de clic en bot√≥n "ir"    |
| `afterGoButtonOnClick`  | `(event, pageNumber)` | Despu√©s de clic en bot√≥n "ir"  |
| `beforeGoInputOnEnter`  | `(event, pageNumber)` | Antes de Enter en input "ir"   |
| `afterGoInputOnEnter`   | `(event, pageNumber)` | Despu√©s de Enter en input "ir" |

### üìè Hooks de Tama√±o

| Hook                       | Par√°metros      | Descripci√≥n               |
| -------------------------- | --------------- | ------------------------- |
| `beforeSizeSelectorChange` | `(event, size)` | Antes de cambiar tama√±o   |
| `afterSizeSelectorChange`  | `(event, size)` | Despu√©s de cambiar tama√±o |

### üéõÔ∏è Hooks de Estado

| Hook            | Par√°metros | Descripci√≥n             |
| --------------- | ---------- | ----------------------- |
| `beforeDisable` | `(type)`   | Antes de deshabilitar   |
| `afterDisable`  | `(type)`   | Despu√©s de deshabilitar |
| `beforeEnable`  | `(type)`   | Antes de habilitar      |
| `afterEnable`   | `(type)`   | Despu√©s de habilitar    |

### üóëÔ∏è Hooks de Destrucci√≥n

| Hook            | Par√°metros | Descripci√≥n         |
| --------------- | ---------- | ------------------- |
| `beforeDestroy` | `()`       | Antes de destruir   |
| `afterDestroy`  | `()`       | Despu√©s de destruir |

## üéØ Ejemplos de Uso

### üìÑ Elipsis Informativo (por defecto)

```javascript
const pagination = new Pagination('#container', {
  totalNumber: 200,
  pageSize: 10,
  showPageNumbers: true,
  callback: (data, model) => {
    console.log('P√°gina actual:', model.pageNumber);
  },
});
```

### üéØ Elipsis Clickeable con Input

```javascript
const pagination = new Pagination('#container', {
  totalNumber: 200,
  pageSize: 10,
  showPageNumbers: true,
  ellipsisClickable: true,
  ellipsisInputPlaceholder: 'Ir a p√°gina...',
  ellipsisInputButtonText: 'Saltar',
  ellipsisInputClass: 'custom-ellipsis',
  callback: (data, model) => {
    console.log('P√°gina actual:', model.pageNumber);
  },
});
```

### üé® Personalizaci√≥n Avanzada del Elipsis

```javascript
const pagination = new Pagination('#container', {
  totalNumber: 500,
  pageSize: 10,
  showPageNumbers: true,
  ellipsisClickable: true,
  ellipsisInputPlaceholder: 'N√∫mero de p√°gina',
  ellipsisInputButtonText: 'Ir',
  hideFirstOnEllipsisShow: true,
  hideLastOnEllipsisShow: true,
  callback: (data, model) => {
    console.log('P√°gina actual:', model.pageNumber);
  },
});
```

## üé≠ Reglas de Visualizaci√≥n del Elipsis

La librer√≠a implementa las siguientes reglas de visualizaci√≥n recomendadas:

### üìä Cantidad Fija de Botones Visibles

- **7 elementos visibles**: Balance entre funcionalidad y dise√±o limpio
- **Navegaci√≥n intuitiva**: El usuario nunca siente que se pierde p√°ginas importantes

### üîç Comportamiento del Elipsis

- **Elipsis informativo**: Por defecto, solo indica p√°ginas ocultas (no clickeable)
- **Elipsis clickeable**: Opcional, incluye input para ir a p√°gina espec√≠fica
- **Mostrar solo cuando es necesario**: Se muestra solo cuando hay m√°s de 1 p√°gina oculta entre saltos

### üéØ Navegaci√≥n Contextual

- **Cerca del inicio**: Muestra 1, 2, 3, 4, 5, ..., totalPage
- **Cerca del final**: Muestra 1, ..., totalPage-4, totalPage-3, totalPage-2, totalPage-1, totalPage
- **En el medio**: Muestra 1, ..., currentPage-1, currentPage, currentPage+1, ..., totalPage

### üßπ Limpieza Autom√°tica

- **Eliminar elipsis innecesarios**: Al acercarse al inicio o final, se eliminan los elipsis redundantes
- **Actualizaci√≥n din√°mica**: Los elementos se muestran/ocultan seg√∫n el contexto actual

## üöÄ Scripts Disponibles

```bash
# Desarrollo en vivo
npm run dev

# Build normal (sin minificar)
npm run build

# Build optimizado (minificado)
npm run build:deep
```

## üìÅ Estructura del Proyecto

```
src/
‚îú‚îÄ‚îÄ index.ts              # Punto de entrada principal
‚îú‚îÄ‚îÄ pagination-core.ts    # L√≥gica principal del paginador
‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îî‚îÄ‚îÄ index.ts         # Definiciones de tipos TypeScript
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ constants.ts     # Opciones por defecto
‚îÇ   ‚îî‚îÄ‚îÄ utils.ts         # Funciones utilitarias
‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îú‚îÄ‚îÄ data-handler.ts  # Manejo de datos
‚îÇ   ‚îî‚îÄ‚îÄ event-handler.ts # Manejo de eventos
‚îî‚îÄ‚îÄ generator/
    ‚îî‚îÄ‚îÄ html-generator.ts # Generaci√≥n de HTML
```

## üìÑ Licencia

MIT License
